{"version":3,"file":"static/js/466.08b1dab2.chunk.js","mappings":"wPA8EA,EArEkB,SAAHA,GAA0B,IAApBC,EAAED,EAAFC,GAAIC,EAAQF,EAARE,SACjBC,EAAmB,KAAPF,EAAYG,OAAOC,SAASC,KAAKC,MAAM,IAAMN,EACzDO,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,MAAMH,IAAI,IACpDI,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAwCC,EAAAA,EAAAA,GAAAH,EAAA,GAA5B,GACLI,GAAgBC,EAAAA,EAAAA,MAAtBC,KACJC,EAAc,OACdC,EAAO,gBAeX,OAbAC,EAAAA,EAAAA,YAAU,WACRf,GAASgB,EAAAA,EAAAA,IAASrB,GAEpB,GAAG,IACCe,GAAeA,EAAYO,OAAS,GACtCP,EAAYQ,SAAQ,SAAChB,GACfA,EAAKT,MAAQE,IACfwB,QAAQC,IAAIV,GACZG,EAAc,UACdC,EAAO,QAEX,KAGAO,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKpB,EAAKsB,SACVH,EAAAA,EAAAA,MAAA,OAAKI,UAAU,UAASH,SAAA,EACtBC,EAAAA,EAAAA,KAAA,OAAKG,IAAKxB,EAAKyB,MAAOC,IAAI,cAC1BP,EAAAA,EAAAA,MAAA,OAAKI,UAAU,gBAAeH,SAAA,EAC5BD,EAAAA,EAAAA,MAAA,OAAKI,UAAU,QAAOH,SAAA,CACnBpB,EAAK2B,MAAM,QAAM,KAClBN,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CACLC,QAASlB,EACTmB,QAAS,WACPxB,EAAaN,GACV+B,SACAC,MAAK,WAAO,IACZA,MAAK,SAACC,GAAK,OAAKhB,QAAQC,IAAIe,EAAM,GACvC,EAAEb,SAEDR,QAGLS,EAAAA,EAAAA,KAAA,OAAAD,UACED,EAAAA,EAAAA,MAAA,MAAII,UAAU,WAAUH,SAAA,CAAC,aACZ,IAAK,KAChBC,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACC,QAAQ,OAAMT,UACpBC,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CACHC,MAAO,CACLC,eAAgB,OAChBC,cAAe,aACfC,MAAO,SAETC,GAAE,sBAAAC,OAAwBxC,EAAKyC,UAC/BlB,UAAU,OAAMH,SAEfpB,EAAKyC,aAEA,UAGdpB,EAAAA,EAAAA,KAAA,KAAAD,SAAIpB,EAAK0C,qBAGbrB,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oBACJC,EAAAA,EAAAA,KAACsB,EAAAA,QAAS,CAACnD,SAAUA,EAAUoD,cAAc,MAGnD,C","sources":["components/goodsPage/GoodsPage.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchOne } from \"../slices/goodsSlice\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useAddToBasketMutation, useGetBasketQuery } from \"../basket/basketApi\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GoodsList from \"../goodslist/GoodsList\";\r\nimport \"./goodsPage.scss\";\r\n\r\nconst GoodsPage = ({ id, handleId }) => {\r\n  const correctId = id === \"\" ? window.location.href.slice(31) : id;\r\n  const dispatch = useDispatch();\r\n  const item = useSelector((state) => state.goods.item);\r\n  const [createAction] = useAddToBasketMutation();\r\n  const { data: basketItems } = useGetBasketQuery();\r\n  let buttonColor = \"dark\";\r\n  let text = \"Add to Basket\";\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchOne(correctId));\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  if (basketItems && basketItems.length > 0) {\r\n    basketItems.forEach((item) => {\r\n      if (item.id === +correctId) {\r\n        console.log(basketItems);\r\n        buttonColor = \"success\";\r\n        text = \"Added\";\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>{item.title}</h1>\r\n      <div className=\"product\">\r\n        <img src={item.image} alt=\"item img\" />\r\n        <div className=\"product__info\">\r\n          <div className=\"price\">\r\n            {item.price}$ ---{\">\"}\r\n            <Button\r\n              variant={buttonColor}\r\n              onClick={() => {\r\n                createAction(item)\r\n                  .unwrap()\r\n                  .then(() => {})\r\n                  .then((error) => console.log(error));\r\n              }}\r\n            >\r\n              {text}\r\n            </Button>\r\n          </div>\r\n          <div>\r\n            <h2 className=\"category\">\r\n              Category -{\">\"}{\" \"}\r\n              <Button variant=\"dark\">\r\n                <Link\r\n                  style={{\r\n                    textDecoration: \"none\",\r\n                    textTransform: \"capitalize\",\r\n                    color: \"white\",\r\n                  }}\r\n                  to={`../basket/category/${item.category}`}\r\n                  className=\"link\"\r\n                >\r\n                  {item.category}\r\n                </Link>\r\n              </Button>{\" \"}\r\n            </h2>\r\n          </div>\r\n          <p>{item.description}</p>\r\n        </div>\r\n      </div>\r\n      <h1>Other products</h1>\r\n      <GoodsList handleId={handleId} showCarousel={false} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoodsPage;\r\n"],"names":["_ref","id","handleId","correctId","window","location","href","slice","dispatch","useDispatch","item","useSelector","state","goods","_useAddToBasketMutati","useAddToBasketMutation","createAction","_slicedToArray","basketItems","useGetBasketQuery","data","buttonColor","text","useEffect","fetchOne","length","forEach","console","log","_jsxs","children","_jsx","title","className","src","image","alt","price","Button","variant","onClick","unwrap","then","error","Link","style","textDecoration","textTransform","color","to","concat","category","description","GoodsList","showCarousel"],"sourceRoot":""}